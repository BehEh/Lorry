{% extends 'root.twig' %}

{% set title = 'Edit release'|trans %}

{% block content %}
<h1>{{title}}</h1>
<ul class="breadcrumb">
  <li><a href="#">Publish</a> <span class="divider">/</span></li>
  <li><a href="#">Codename: Modern Combat</a> <span class="divider">/</span></li>
  <li class="active">Release 1.5</li>
</ul>
 <div class="row-fluid">
    <div class="span12">
		<div class="row-fluid">
			<div class="span12">
				<h2>Codename: Modern Combat</h2>
				<p class="alert alert-success">This version is ready to be published.</p>
				<p><a href="{{filename}}/.." class="btn">Edit</a></p>
			</div>
		</div>
		<div class="row-fluid">
			<div class="span12">
				<form method="post" action="{{filename}}?change-details" class="form-horizontal">
					<div class="control-group">
						<label class="control-label" for="version">{% trans "Version" %}</label>
						<div class="controls">
							<input type="text" name="version" id="title" value="{{addon_title}}" maxlength="32" required>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="description">{% trans "Addon description" %}</label>
						<div class="controls">
							<p>Lorem Ipsum Dolor Sit Amet and a long example text concerning different details.</p>
							<p><a href="{{filename}}/..">Edit</a></p>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="description">{% trans "Release description" %}</label>
						<div class="controls">
							<textarea id="description"></textarea>
						</div>
					</div>
					<div class="control-group">
						<div class="controls">
							<button type="submit" class="btn btn-primary">{% trans %}Change{% endtrans %}</button>
						</div>
					</div>
				</form>
			</div>
		</div>
		<div class="row-fluid">
			<div class="span6">
				<h2>{% trans %}Release{% endtrans %}</h2>
				<form method="post" action="">
					<p>If you would like to get your newest creation to the community as soon as possible you can instantly release your latest version.</p>
					<p>{% trans %}All downloads will immediately redirect to your uploaded version.{% endtrans %}</p>
					<p class="alert alert-warning">Publishing a release is final. Any changes after releasing require a new release.</p>
					<p>{% trans %}Your release will be instantly available to all players.{% endtrans %}</p>
					<div class="pull-right">
						<label class="checkbox inline" style="margin-right: 20px;">
							<input type="checkbox" id="release-confirm"> {% trans %}Confirm release{% endtrans %}
						</label>
						<button type="submit" id="release-button" class="btn btn-success btn-large" disabled>{% trans %}Release now{% endtrans %}</button>
					</div>
				</form>
			</div>
			<hr class="visible-phone">
			<div class="span6">
				<h2>{% trans %}Scheduled release{% endtrans %}</h2>
				<form method="post" action="">
					<label for="datetime">{% trans %}Date and time{% endtrans %}</label>
					<input type="datetime-local" id="datetime" name="datetime" value="{{datetime}}" min="{{current_datetime}}" required>

					<label class="checkbox">
						<input type="checkbox">{% trans %}Make release date and time public{% endtrans %}
					</label>

					<p class="alert alert-info">{% trans %}You can cancel a scheduled release at any time before the automated release.{% endtrans %}</p>
					<p>{% trans %}Your release will be automatically made vailabe to all players at the specified timestamp.{% endtrans %}</p>
					<button type="submit" class="btn btn-large pull-right">{% trans %}Schedule Release{% endtrans %}</button>
				</form>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block javascript %}
{{ parent() }}

$(document).ready(function() {
	$('#release-confirm').change(function() {
		if($(this).prop('checked')) {
			$('#release-button').prop('disabled', false);
		} else {
			$('#release-button').prop('disabled', true);
		}
	});
});
{% endblock %}