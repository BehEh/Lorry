{% extends 'root.twig' %}

{% set title = 'Moderation'|trans %}

{% block content %}
	<div class="page-header">
		<div class="container">
			<h1>{{title}}</h1>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-md-4">
				<h2>{% trans %}Users{% endtrans %}</h2>
				<a href="{{base}}/users" class="btn btn-default">{% trans %}User list{% endtrans %}</a>
				<a href="{{base}}/users?filter=bans" class="btn btn-danger">{% trans %}Banned users{% endtrans %}</a>
			</div>
			<div class="col-md-8">
				<h2>{% trans %}Queues{% endtrans %}</h2>
				<h3>{% trans %}Addons{% endtrans %}</h3>
				{% if submitted %}
					<table class="table">
						<tr><th>{% trans %}Addon{% endtrans %}</th><th>{% trans %}Requested namespace{% endtrans %}</th><th>{% trans %}User{% endtrans %}</th></tr>
					{% for request in submitted %}
						<tr>
							<td>{{request.addon.title}} {% include 'functions/tags/game.twig' with {'game' : games[request.addon.game]} %}</td>
							<td><a href="{{base}}/moderate/approve/{{request.addon.id}}"><strong>{{request.namespace}}</strong></a></td>
							<td>{% include 'functions/user.twig' with {'user': request.user} %}</td>
						</tr>
					{% endfor %}
					</table>
				{% else %}
					<div class="alert alert-info">{% trans %}There are no addons in the approval queue.{% endtrans %}</div>
				{% endif %}
				<h3>{% trans %}Contact form{% endtrans %}</h3>
				<p class="alert alert-info">{% trans %}There are no new messages in the queue.{% endtrans %}</p>
			</div>
		</div>
	</div>
{% endblock %}